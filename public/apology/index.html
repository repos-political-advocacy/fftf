<!DOCTYPE html>
<html>
  <head>
    <title>Huge failure due to massive error. We're sorry.</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript">
      $(function(){
          $(".email-toggle").click(function(event){
              var email = $(this).parent().find(".email");
              email.toggle();
              if (email.css("display") === "block") {                  
                  $(this).text("Hide Email"); 
              }
              else {
                  $(this).text("Show Email");
              }
              return false;
          });
      });
    </script>
    <style type="text/css">
      html, body {
         font-family: "Georgia", "Times New Roman", serif;
         color: #333;
         font-size: 18px;
         margin: 0;
         padding: 0;
      }         
      body {
         background: url(images/bg.gif) repeat;
         color: #222;
      }
      h1, h2, h3, h4, h5 {
         font-family: "Helvetica", "Arial", sans-serif;
         color: #000;
      }
      p {
         line-height: 24px;
         text-indent: 20px;
      }
      em {
         font-weight: bold;
      }
      #container {
         /* border: 1px solid #000; */
         width: 100%;
         text-align: center;
      }
      #content {
         /* border: 1px solid #000; */
         width: 700px;
         margin-left: auto;
         margin-right: auto;
         text-align: left;         
      }
        #content dl {
           margin-left: 20px;
        }
        #content dt {
           color: #777;
           font-style: italic;
           font-weight: 300;
        }
        #content dd {
           margin-bottom: 10px;
        }
         .email {
            display: none;
            background-color: #fff;
            padding: 20px;
            margin: 10px;
            font-family: "Courier", sans-serif;
            font-size: 14px;
            -moz-box-shadow: inset 0px 0px 5px #c2b9b6;
            box-shadow: inset 0px 0px 5px #c2b9b6;
          }
          .email .header {
             display: block;
             margin-bottom: 5px;
          }
          .email .prefix {
             font-style: italic;
             font-weight: bold;
          }
          .email p {
             margin-top: 0px;
             margin-bottom: 10px;
          }
    </style>
  </head>
  <body>
    <div id="fight_header" style="background: #252525 url('http://americancensorship.org/images/fftf-header.png') center; height: 50px; cursor: pointer;" onclick="location.href = 'http://fightforthefuture.org/';"></div>
    <div id="container">
      <div id="content">
        <section>
          <h1>Huge failure due to massive error.<br>We're sorry.</h1>
          <p>This is Tiffiniy Cheng, Holmes Wilson and Joshua Blount at Fight for the Future, a project of Center for Rights, which in turn is a 501(c)4 nonprofit with a 501(c)3 application in the works.  Tiffiniy and Holmes are the founders.  Joshua is our developer.  We're a new organization, but we're well-known for our efforts to stop SOPA & PIPA, the infamous website-blocking legislation.</p>
          <p>During the fight to stop SOPA, our ability to send emails to a large list was crucial.  We used our growing list of supporters to drive phone calls to the House and Senate at crucial moments and <a href="http://my.americancensorship.org/">organized in-person meetings with Senators in 30 states.<a>  Without that sustained activity, organized using email, the two <a href="http://americancensorship.org">spectacular</a> <a href="http://sopastrike.com">protests</a> would have seemed much less substantial to Congress.  If SOPA or similar legislation returns, email will let us notify the millions of people who took action, starting right where we left off.</p>
          <p>Back in January we decided to move to a new service (<a href="http://actionkit.com">Action Kit</a>) for sending emails.  During that process, we asked our former provider (<a href="http://bluestatedigital.com">Blue State Digital</a>) for an export of subscribed users.  Instead, they gave us an export that included all users, and as a result, our last mailing went to every one of the 84,000 people who had unsubscribed from our list.  This makes us feel sick.  To everyone that happened to, we're so sorry.  It will never happen again.</p>
          <p>The same mistake also destroyed our reputation with the anti-spam community.  In February, Spamhaus contacted us to say that harvested emails were getting on our list, and we worked with them to a resolution: unsubscribing all 33,000 emails from the petition that seemed to be the problem. After we dumped these emails, Spamhaus gave us the go ahead to continue using our list. We thought we were in the clear. But, the migration error not only made it so we emailed everyone who unsubscribed, but also put all 33,000 emails that we threw away back onto our list, which from Spamhaus's view looked like us trashing our agreement.  Worse, coming from a new server at our new provider, it looked to Spamhaus and anyone else on the anti-spam frontlines that we were switching IPs to avoid their blocks (or even worse, that we'd been kicked off Blue State Digital).</p>
          <p><em>So to Spamhaus, the Mailsleaze blog, and everyone who works on fighting spam: we're equally sorry, and we're ready to do whatever it takes to rebuild your trust.</em> As a first step, we're going to give you a detailed account so you can see what's happened, and a list of things we're doing right now to fix it.  Here are the areas we think are important (we've included dates, as well as key emails):
            <ul>
              <li><a href="#timeline-how-our-list-grew">Timeline: How our list grew.</a></li>
              <li><a href="#timeline-february-spamhaus-issue">Timeline: February Spamhaus Issue</a></li>
              <li><a href="#timeline-migration-disaster">Timeline: Migration Disaster</a></li>
              <li><a href="#steps-were-taking-immediately">Steps we're taking immediately</a></li>
              <li><a href="#steps-were-considering">Steps we're considering</a></li>
            </ul>
          </p>
          <p>Finally, Fight for the Future is new on the mail delivery scene, but it's founders aren't.  We've built ethically-founded free software projects that people love (<a href="http://getmiro.com">Miro</a>, <a href="http://universalsubtitles.org">Amara</a>, <a href="http://opencongress.org">OpenCongress</a>) we've worked for (<a href="http://fsf.org">Free Software Foundation</a>) and alongside (<a href="http://mozilla.org">Mozilla</a>, the <a href="http://eff.org">EFF</a>) some of the internet's most trusted organizations.   We have no conceivable interest in harvesting emails or emailing unsubscribed users.  Even if we did, we never would.  The anti-spam fight is about giving individual users control of the internet.  That's what we're fighting for too.  We're committed to building something lasting, fighting for issues that many of you support.  I hope we're worthy of your understanding, forgiveness, and most of all your help in finding fixes that let us continue our work.</p>
          <p>We still don't know how harvested emails ended up on our list, but we know we need to take agressive steps to prevent it.  We've already had a hint of underhanded attacks: on Nov 22, 2012 our domain registrar Dreamhost pulled the plug on all our domains in response to an unverified complaint, days after the first SOPA protest.  If anyone with a botnet can shut down our ability to reach supporters by contaminating our list with trap addresses, we are screwed.</p>
          <p>If you can help, if you have any thoughts, or if you think there's anything missing, please let us know: <a href="mailto:repairs@fightforthefuture.org">repairs@fightforthefuture.org</a> Thanks for reading this far &mdash; we hope the information below is even more helpful.</p>
          <p>Tiffiniy, Holmes, Joshua</p>
        </section>
        
        <hr>

        <section>
          <a name="timeline-how-our-list-grew"></a>
          <h2>Timeline: How our list grew</h2>
          <p>Our list grew at moments when sites with huge traffic (and many more small and mid-sized sites) were sending people to our pages with prominent links or embedded “write congress” forms.  All of our forms include a clear statement that we will contact people about future campaigns.  The vast majority also block multiple submissions from the same IP.  Until Spamhaus told us on Feb 10, that we were hitting their spamtrap addresses, we had no reason to doubt the integrity of our list.</p>
          <dl>
            <dt>DATE</dt>
            <dd>We launch our first campaign, about a Senate bill that would have made posting streaming videos a felony: <a href="http://freebieber.org">Free Bieber.</a>  List size on MM/DD: XXX</dd>

            <dt>DATE</dt>
            <dd>Link from a <a href="http://phillyd.tv/">popular Youtube show</a> drove massive traffic to the resulting in signups, and eventually an endorsement of remix videos from Justin Bieber.  List size on MM/DD: XXX</dd>

            <dt>DATE</dt>
            <dd>We organize the first anti-SOPA protest, American Censorship Day.  Huge sites like Reddit, Tumblr, Mozilla, and 4chan participate, either linking to our “Write Congress” pages, or including our “Write Congress” widget on their site (See <a href="http://www.americancensorship.org/infographic2.html">infographic and screenshots</a>).  The protest sets the messaging and tactics for the Jan 18 blackout. List size on MM/DD: XXX</dd>

            <dt>DATE</dt>
            <dd>Many medium-sized sites continue linking to AmericanCensorship.org and our PIPA video, and using our widget for weeks.  We see a much smaller but steady number of new signups per day.   List size on MM/DD: XXX (XXX per day since 11/16)</dd>

            <dt>DATE</dt>
            <dd>During the January 18 SOPA protests, 71,800 pointed their users to our contact Congress / signup page including huge sites like TheChive.com and Pinterest.com.  List size on MM/DD: XXX</dd>

            <dt>DATE</dt>
            <dd>As of April 15, 2012 - 1 million + Facebook Likes on <a href="http://americancensorship.org">AmericanCensorship.org</a>, 240,000 Likes on <a href="http://fightforthefuture.org/pipa">fightforthefuture.org/pipa</a>.</dd>
          </dl>
        </section>

        <section>
          <a name="timeline-february-spamhaus-issue"></a>
          <h2>Timeline: February Spamhaus Issue</h2>
          <p>On February 10 Spamhaus told our CRM provider that our list was dirty, that we were hitting Spamhaus traps.  They told us that the trap addresses we were hitting belonged to pages on listed on <a href="http://sopastrike.com">sopastrike.com</a>.  They also told us (via BSD) that they had confirmed cases of failures to unsubscribe.  We didn't know how trap addresses got on our list, but we agreed with BSD and Spamhaus on removing all emails from the sopastrike.com/ page as a first step.  Our understanding was that, if this didn't work, we would remove a larger set of emails.  BSD fixed a bug in their unsubscribe page, and Spamhaus gave us the okay to send more emails.  By that point we were already in the process of migrating to Actionkit, so we didn't send any more emails to the full list until April 6th.  (Two other emails in late March went to tiny parts of the list).</p>
          <dl>
            <dt>January 17, 2012</dt>
            <dd>We send an email to 1,010,000 on the eve of the SOPA blackout.  No Spamhaus flags.</dd>

            <dt>January 18, 2012</dt>
            <dd>We send an email to 1,731,917 on the day of the SOPA blackout.</dd>

            <dt>January 20, 2012</dt>
            <dd>Email sent to 2,386,522.  First and only email to have a request for donations.  No Spamhaus flags.</dd>

            <dt>January 25, 2012</dt>
            <dd>FFTF sent an email titled <a href="https://fftf.actionkit.com/mailings/reports/53">“SOPA has become toxic”</a> to 2,461,702.  No Spamhaus flags.</dd>

            <dt>February 9, 2012 at 11:57am</dt>
            <dd>FFTF sent an email titled <a href="https://fftf.actionkit.com/mailings/reports/54">“Help the protests this Saturday”</a> to 2,467,099 email addresses on our mailing list (5,397 additional addresses)</dd>

            <dt>February 9, 2012 at 10:31am</dt>
            <dd>Blue State Digital tells us that the previous day's email was flagged by BSD/Spamhaus (full text of email).  This is the first time we've heard from Spamhaus.</dd>

            <dt>February 10, 2012 at 11:35am</dt>
            <dd>We get on the phone with BSD immediately.  They say that Spamhaus told them emails were scraped from the pages of sites that participated in the SOPA blackout (pages listed at sopastrike.com).  They also say that a single email address (one that we manually unsubscribed in response to a user complaint) keeps getting mailed.  We sent BSD and Spamhaus links to all of our forms, and we sent BSD data to help them track down the single failed unsubscribe issue.</dd>

            <dt>February 10, 2012 afternoon</dt>
            <dd>On our second call with BSD and Josiah Webb, BSD's main contact to Spamhaus, we discuss different steps to resolve the problem, and decide to remove all emails from the http://sopastrike.com/  ‘request a site to protest' emails.  BSD and Spamhaus agree that, even though we don't know the source of the problem, we know it's linked to the petitions on the sopastrike.com front page, and therefore that removing all emails from this page makes sense as a first step.</dd>

            <dt>February 11, 2102</dt>
            <dd>Josiah Webb @ BSD confirms that after we remove the 41k contacts from SOPA Strike Requests Spamhaus has agreed to lift their block. <a href="#" class="show-email">Show Email</a>

              <div class="email">

              </div>
            </dd>

            <dt>February 13, 2012</dt>
            <dd>Josiah Webb at BSD confirms removal of potentially bad emails and gives greenlight on emailing (though it turns out there is one remaining issue with an unsubscribe bug) <a href="#" class="show-email">Show Email</a>
              <div class="email">
              </div>
            </dd>

            <dt>February 14, 2012</dt>
            <dd>With information we provided, BSD says they solved a bug in their unsubscribe flow.  This was the last remaining issue.  BSD says we are good to send emails again. BSD notifies us that we hit Spamhaus traps.  The “upload” issue they mention in this email isn't relevant: we've only imported emails from our own forms, and only on a couple occasions (A mobilecommons call form and a “censor your site” rails app we made for americancensorship.org).
              <div class="email>
                Feb 10 10:31am
                Subject: Spam Email Issue
                From: Zachary at Blue State Digital

            Hi Holmes, Josh and Tinnify,

            It seems like we are running into some problems with your recent email
            blasts that are being sent to your entire list. The mailing that was sent
            yesterday forced one of our production mail serves on to Spamhaus's spam
            block list. This is happening because your email list is extremely dirty.

            Please take a look at our email upload policy as a reminder (
            http://tools.bluestatedigital.com/kb/nuts-and-bolts-entry/wp-email-list-upload-policy).
            You should also be aware that this status can threaten the hosting of your
            full site, because repeated tagging as spam from your domain might threaten
            your site.

            Until the list can be cleaned up, we are will be routing all of your
            mailings through our QOS mailer, which is isolated from our production
            mailers. This will probably hurt your delivery rates slightly.

            We would be more than happy to discuss this with you over the phone and to
            try and figure out why your email blasts are being flagged.

            Thanks,

            Zachary

            -- 
            Zachary Teicher
            Client Services Manager

            We clarify the step we've decided on for BSD.  At this point, it was our understanding that the addresses would be deleted, not unsubscribed.  (Though later, when they said they were unsubscribed, that seemed fine and we didn't insist on deletion).

              From: Joshua Blount

              Feb 10 5:12pm
            Thanks for getting on the phone to help us resolve this. The list we
            talked about dropping has the following details

            Name: SOPA Strike Requests
            Signups: 41,286
            Unique Emails: 33,973
            Created: 01/13/2012

            And again, we're approving your team to delete this from our contacts
            DB with the understanding that the offending addresses identified by
            Spamhaus could potentially be contained in that list. Your team will
            contact Spamhaus after removing the list mentioned above explaining
            that our end users were entering data into that list that might have
            included a Spamhaus trap email address.

            Thanks!
            </dd>

            <dt>February 11, 2012</dt>
            <dd>Josiah Webb @ BSD confirms that after we remove the 41k contacts from SOPA Strike Requests Spamhaus has agreed to lift their block:

            This will happen by 12 noon on Monday 2/13/2012.

            Once the purge is complete, i will update Spamhaus (They have agreed to lift the block on the mailer server in question). You will then be able to recommence any and all email campaigns.
            </dd>

            <dt>February 13, 2012</dt>
            <dd>Josiah Webb @ BSD confirms removal of potentially bad emails and gives greenlight on emailing:

            All cons associated with the SOPA Strike Requests signup form have been successfully unsubscribed

            Mailings are fine to begin again
            </dd>

            <dt>February 14, 2012</dt>
            <dd>With information we provided, BSD says they solved a bug in their unsubscribe flow.  This was the last remaining issue.  BSD says we are good to send emails again. From Dan at BSD:

            Hi everybody -

            The data we got from your unsubscribe table has proved very helpful. As you know, we're putting together a workaround for the GMail '.' issue. From the other addresses that reported unsubscribe failures, we think we've been led to the root cause of the failure that Spamhaus reports. We'll keep you posted on that progress.

            (BSD later gave us more information on what the unsubscribe problem was, in an email on April 11)

            "Here's the note we sent to spamhaus about it:
            "Just sending the final results on the failed unsubscribe (opt out) issue.

            We made a change in March of last year that resulted in us suppressing and ignoring certain
            internal framework errors relating to the unsubscribe process. This sometimes resulted in
            us marking email addresses in client databases as successfully processed and unsubscribed
            when they had not been.

            We have reverted the change so that if there is an error during the unsubscribe process,
            an alert is generated and those rows will be retried the next time the unsubscribe process is run.

            This is issue has been identified and resolved""
            </div>
            </dd>
          </dl>
        </section>

        <section>
          <a name="timeline-migration-disaster"></a>
          <h2>Timeline: Migration Disaster</h2>
          <p>In September 2011, after considering both Blue State Digital and Action Kit, we decided on BSD.  But in November we started to have serious issues and began discussing migration to Action Kit, making the final decision to move in January.  When we asked for an export of “subscribed users”, BSD gave us a table that included all users with no information on unsubscribes or bounces.</p>
          <p>This mean that our next mailing--months later--went to every user who had ever been on our list, breaking our promise to Spamhaus and any user who had asked to be unsubscribed.  In retrospect we should have verified that the data was what we asked for.  But there's no conceivable misunderstanding; an export that included all users and no unsubscribe data was, essentially, a timebomb.  BSD has apologized to us, and can verify that the mistake was theirs.</p>
          <dl>
            <dt>Jan 12, 2012</dt>
            <dd>Sent action kit signed contract so they could begin preparing for migration</dd>

            <dt>Feb 9, 2012 - 3pm</dt>
            <dd>
              We request export data from BSD to begin migration process (full text of email)
	          
              <div class="email">
                <span class="header">Joshua Craig Blount, Feb 09 15:13 (EST):
                Titled: Help backing up subscribed users?

                Hi! When I attempt to backup all data on subscribed users (about 2.6 million at this point) the page seems to crash with a non-specific error.
                Can I get a dump (CSV preferred) of this data? Is there a way to do this myself without making everything break?
                Thanks!
              </div>
            </dd>

            <dt>Feb 10, 2012 - 10:30am</dt>
            <dd>We hear from Spamhaus for the first time that we are hitting their spamtraps, and agree on a solution with Spamhaus.</dd>

            <dt>Feb 14, 2012</dt>
            <dd>With the solution implemented, we receive a greenlight to send more mailings, but we don't send any more mailings until April 6.</dd>

            <dt>Feb 28, 2012</dt>
            <dd>As a resolution to the Feb 9 request entitled “Help backing up subscribed users?” BSD gives us an export we believe to include only mailable users.  Instead, it included all users, with no bounce or unsubscribe data.  We forward to Actionkit.</dd>

            <dt>Mar 2012</dt>
            <dd>We put campaigns on hold while the migration is underway. Our setup on BSD required building self-hosted pages.  Because this was time intensive, we decided instead to focus on building a better setup with Actionkit rather than investing more time in improving our flow for creating static pages.</dd>

            <dt>Mar 3, 2012</dt>
            <dd>3/3 - Actionkit, seeing no bounce or unsubscribe data, asks us if the data we've given them includes mailable users only.  We say yes, because that's what we asked for, and because BSD giving us a table with unsubscribed users is unthinkable.</dd>

            <dt>Mar 13, 2012</dt>
            <dd>Actionkit completes import of data.</dd>

            <dt>3/23</dt>
            <dd>We ask BSD for a list of any new subscribes and unsubscribes since the last export.  This does not include users from contaminated sopastrike.com lists that they already unsubscribed.</dd>

            <dt>DATE</dt>
            <dd>Actionkit imports the final unsubscribe data.</dd>

            <dt>3/29</dt>
            <dd>We send email to 16,299 users in Iowa, because a Senator there is blocking a law-- driven by the startup community and introduced by one of the heroes from the house SOPA hearings--to simplify the immigration process for startup founders.</dd>

            <dt>4/4/12 then 4/6</dt>
            <dd>We send email to partial then full list which (and we don't know it!) includes every unsubscribed user, every bounce, and the 33.9k emails we agreed with Spamhaus to remove.</dd>

            <dt>4/5</dt>
            <dd>Patrick at Actionkit reports a high number of bounces, but says it's best to let the email run.</dd>

            <dt>4/6</dt>
            <dd>Patrick at Actionkit tells us we've been flagged by Spamhaus again, hitting “about 50” of Spamhaus's trap addresses, an unthinkably high number.</dd>

            <dt>4/9</dt>
            <dd>We discover that the data we imported from BSD included every user, including unsubscribes, bounces, and the 33.9k emails we agree with Spamhaus to remove.  From Spamhaus's point of view, we trashed our agreement and switched providers.  They tell Actionkit they want us “turned off”.</dd>

            <dt>4/11</dt>
            <dd>BSD confirms that the export was their mistake, apologizes (full email text), and informs Spamhaus and Actionkit.  We start working on a document for Spamhaus, our users, and the broader anti-spam community on what happened (you're reading it).</dd>
          </dl>
        </section>

        <section>
          <a name="steps-were-taking-immediately"></a>
          <h2>Steps we're taking immediately</h2>
          <p>These are the steps to fix the problem that we've already taken, are doing right now, or are making a solid internal commitment to.</p>
          <ul>
            <li>Re-remove all unsubscribed users from our list (DONE)<li>
            <li>Re-remove all bounces from our list (DONE)</li>
            <li>Re-remove all 33.9k addresses from sopastrike.com/ from list as per agreement with Spamhaus. (DONE)</li>
            <li>Remove an even larger set of XXX,XXX addresses from sopastrike.com/</li>
            <li>In any future migration, verify with multiple tests that all unsubscribe requests are preserved (DOCUMENTED)</li>
            <li>Remove any addresses entered on forms that didn't block multiple submissions from the same IP (our call congress widget and a “censor your site tool”).</li>
            <li>For any address we're removing outside of the 33.9k already removed, we'd like to send a final email informing users what happened with a link to this document, giving them a chance to stay on our list.  If any of these hit trap addresses, we expect that their operators will understand and not count it against us.  (Note: if there's a reason not to do this, please tell us-- it seems like the fair thing to do before kicking someone off our list.)</li>
          </ul>
          <p>Finally, given this huge screw up in honoring unsubscribes, we'd like to be even more careful in the future about spotting and resolving failed unsubscribes.  We can't make any specific commitment to timing, but we will be adding an issue tracking system to make sure that any reported instance of a failed unsubscribe gets diagnosed and fixed.</p>
        </section>

        <section>
          <a name="steps-were-considering"></a>
          <h2>Steps we're considering</h2>
          <p>Here's what sucks: we know we're on our last chance with Spamhaus and others, and we still don't know the cause of the problem.  If we take the above steps and keep hitting spamtraps, we're screwed.  If somebody gets a botnet and submits known harvested emails to our list, we're screwed.  So before we start sending emails again, we need a better plan.  If you have expertise in this space and you have any ideas, please be in touch.</p>
          <p>Here's what we're considering for future signup forms to keep out fake submissions while keeping it easy to, say, contact Congress:
            <ul>
              <li>Use Facebook, Google, OpenID API for signups.</li>
              <li>CAPTCHA for anyone entering email</li>
              <li>Confirmed opt-in for anyone entering email</li>
              <li>Mutliple chances to confirm opt-in</li>
            </ul>
          </p>
          <p>Here's what we're considering for existing users, to weed out any addresses that shouldn't be there:
            <ul>
              <li>Go through our data looking for patterns consistent with single users or botnets</li>
              <li>Confirmed opt-in for all users who haven't visited our pages from a link in an email</li>
              <li>Confirmed opt-in for all users who only signed up on one of our forms</li>
              <li>Confirmed opt-in, with multiple chances to confirm, for all existing users</li>
            </ul>
          </p>       
          <p>Confirmed opt-in for past users is tricky.  We promised everyone who's on our list that we'd contact them if SOPA came back.  We don't want to boot them from the list just because they neglect to open or read one of our emails carefully.  Nearly everyone we've talked to who does political organizing says confirmed opt-in is suicide.  We're willing to break from that conventional wisdom, but we want data to back it up, and the ability to test different approaches.</p>
          <p>If you've taken the time to read this far, it probably means you care about us and the situation we're in.  Thanks.  If you also have expertise or thoughts on how we can move forward, please be in touch. <a href="mailto:repairs@fightforthefuture.org">repairs@fightforthefuture.org</a></p>
        </section>
      </div>
    </div>
  </body>
</html>
